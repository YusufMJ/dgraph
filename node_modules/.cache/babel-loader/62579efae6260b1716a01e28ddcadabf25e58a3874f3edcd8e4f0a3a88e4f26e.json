{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from'react';import*as d3 from'd3';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[jwt,setJwt]=useState(\"\");const[userInfo,setUserInfo]=useState(null);const[userLevel,setUserLevel]=useState(null);const[userXP,setUserXP]=useState(null);const[isSignedIn,setIsSignedIn]=useState(false);const[headerMessage,setHeaderMessage]=useState(\"Please trust me and use your reboot credentials thank you\");const[skillsData,setSkillsData]=useState([]);const skillsChartRef=useRef(null);const[usersAboveLevel,setUsersAboveLevel]=useState(null);const[usersAboveLevelInCohort,setUsersAboveLevelInCohort]=useState(null);const[cohort,setCohort]=useState(null);const[cohortRank,setCohortRank]=useState(null);const[showUsersAbove,setShowUsersAbove]=useState(false);const[showUsersAboveInCohort,setShowUsersAboveInCohort]=useState(false);const[usersAboveList,setUsersAboveList]=useState([]);const[usersAboveInCohortList,setUsersAboveInCohortList]=useState([]);const[leadershipCount,setLeadershipCount]=useState(null);const[leadershipProjects,setLeadershipProjects]=useState([]);const[showLeadershipProjects,setShowLeadershipProjects]=useState(false);const[teamLeaderProjects,setTeamLeaderProjects]=useState([]);const[showTeamLeaderProjects,setShowTeamLeaderProjects]=useState(false);const[mostFrequentLeader,setMostFrequentLeader]=useState(null);const[auditRatioRanking,setAuditRatioRanking]=useState([]);const[cohortAuditRatioRanking,setCohortAuditRatioRanking]=useState([]);const[showAuditRatioRanking,setShowAuditRatioRanking]=useState(false);const[showCohortAuditRatioRanking,setShowCohortAuditRatioRanking]=useState(false);const[userAuditRatioRank,setUserAuditRatioRank]=useState(null);const[userCohortAuditRatioRank,setUserCohortAuditRatioRank]=useState(null);const queries={basicInformation:`query User1 {\n      user {\n        auditRatio\n        firstName\n        lastName\n        totalDown\n        totalUp\n      }\n    }`,skillsDistribution:`\n      query skills {\n        transaction(\n          where: {\n            type: {\n              _iregex: \"(^|[^[:alnum:]_])[[:alnum:]_]*skill_[[:alnum:]_]*($|[^[:alnum:]_])\"\n            }\n          }\n        ) {\n          amount\n          type\n        }\n      }\n    `,userInfo:`\n      query UserInfo {\n        user {\n          login\n          firstName\n          lastName\n          auditRatio\n          totalUp\n          totalDown\n        }\n      }\n    `,userLevel:`\n      query UserDetails($userLogin: String!) {\n        event_user(\n          where: { event: { path: { _eq: \"/bahrain/bh-module\" } }, userLogin: { _eq: $userLogin } }\n        ) {\n          userLogin\n          level\n          event {\n            id\n          }\n        }\n      }\n    `,userXP:`query {\n      transaction_aggregate(\n        where: {\n          event: { path: { _eq: \"/bahrain/bh-module\" } }\n          type: { _eq: \"xp\" }\n        }\n      ) {\n        aggregate {\n          sum {\n            amount\n          }\n        }\n      }\n    }\n    `,usersAboveInAllReboot:`\n      query UsersLevelGreaterThanInAll($level: Int!) {\n        event_user(\n          where: { \n            event: { \n              path: { _eq: \"/bahrain/bh-module\" }\n            },\n            level: { _gte: $level }\n          }\n          order_by: { level: desc }\n        ) {\n          userLogin\n          level\n          event {\n            campus\n            id\n          }\n        }\n      }\n    `,usersAboveInCohort:`\n      query UsersLevelGreaterThanInCohort($level: Int!, $eventId: Int!) {\n        event_user(\n          where: { \n            event: { \n              path: { _eq: \"/bahrain/bh-module\" },\n              id: { _eq: $eventId }\n            },\n            level: { _gte: $level }\n          }\n          order_by: { level: desc }\n        ) {\n          userLogin\n          level\n          event {\n            campus\n            id\n          }\n        }\n      }\n    `,leadershipCount:`\n      query LeadershipCount($userLogin: String!) {\n        group_aggregate(where: { \n          _and: [\n            { captainLogin: { _eq: $userLogin } },\n            { object: { type: { _eq: \"project\" } } },\n            { status: { _eq: finished } }\n          ] \n        }) {\n          aggregate {\n            count\n          }\n        }\n      }\n    `,leadershipProjects:`\n      query LeadershipProjects($userLogin: String!) {\n        group(where: { \n          _and: [\n            { captainLogin: { _eq: $userLogin } },\n            { object: { type: { _eq: \"project\" } } },\n            { status: { _eq: finished } }\n          ] \n        }) {\n          members {\n            userLogin\n          }\n          object {\n            name\n          }\n          path\n        }\n      }\n    `,teamLeaders:`\n      query TeamLeaders($userLogin: String!) {\n        group(where: { \n          _and: [\n            { captainLogin: { _neq: $userLogin } },\n            { object: { type: { _eq: \"project\" } } },\n            { status: { _eq: finished } },\n            { members: { userLogin: {_eq: $userLogin} } },\n          ] \n        }) {\n          captainLogin\n          object {\n            name\n          }\n          members {\n            userLogin\n          }\n        }\n      }\n    `,usersLevelGreaterThanInAll:`\n      query UsersLevelGreaterThanInAll($level: Int!) {\n        event_user(\n          where: { \n            event: { \n              path: { _eq: \"/bahrain/bh-module\" }\n            },\n            level: { _gte: $level }\n          }\n          order_by: { level: desc }\n        ) {\n          userLogin\n          level\n          event {\n            campus\n            id\n          }\n          userAuditRatio\n        }\n      }\n    `};const handleSignIn=async event=>{event.preventDefault();const username=event.target.login.value;const password=event.target.password.value;const credentials=btoa(`${username}:${password}`);try{const response=await fetch('https://learn.reboot01.com/api/auth/signin',{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Basic ${credentials}`},body:JSON.stringify({})});if(response.ok){const data=await response.json();setJwt(data);setIsSignedIn(true);setHeaderMessage(\"You shouldn't share your password with strangers.\");const result=await queryData(queries.basicInformation);setUserInfo({...userInfo,firstAndLastName:`${result.data.user[0].firstName} ${result.data.user[0].lastName}`});setHeaderMessage(userInfo.firstAndLastName+headerMessage);}else{const errorData=await response.json();console.error('Sign-in failed:',errorData.message||response.statusText);}}catch(error){console.error('Error:',error);}};const queryData=useCallback(async function(query){let variables=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{const response=await fetch('https://learn.reboot01.com/api/graphql-engine/v1/graphql',{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Bearer ${jwt}`},body:JSON.stringify({query,variables})});if(response.ok){const result=await response.json();console.log('GraphQL response:',result);return result;}else{const errorData=await response.json();console.error('GraphQL query failed:',errorData.message||response.statusText);}}catch(error){console.error('Error:',error);}},[jwt]);const fetchSkillsData=useCallback(async()=>{const result=await queryData(queries.skillsDistribution);console.log('Raw query result:',result);if(result&&result.data&&result.data.transaction){const skillsMap=result.data.transaction.reduce((acc,item)=>{const skill=item.type.replace(/^skill_/,'');// Use Math.max to keep the highest amount for each skill\nacc[skill]=Math.max(acc[skill]||0,item.amount);return acc;},{});const processedData=Object.entries(skillsMap).map(_ref=>{let[skill,amount]=_ref;return{skill,amount};}).sort((a,b)=>b.amount-a.amount);console.log('Processed skills data with maximum values:',processedData);setSkillsData(processedData);}else{console.log('No transaction data found in the query result');setSkillsData([]);}},[queryData,queries.skillsDistribution]);const fetchUserData=useCallback(async()=>{try{// Fetch user info first\nconst infoResult=await queryData(queries.userInfo);if(infoResult&&infoResult.data&&infoResult.data.user&&infoResult.data.user[0]){const userInfo=infoResult.data.user[0];setUserInfo(userInfo);// Now that we have the user's login, fetch the level and cohort\nconst levelResult=await queryData(queries.userLevel,{userLogin:userInfo.login});if(levelResult&&levelResult.data&&levelResult.data.event_user&&levelResult.data.event_user[0]){const level=levelResult.data.event_user[0].level;const eventId=levelResult.data.event_user[0].event.id;setUserLevel(level);setCohort(eventId);// Count users above this level in all of Reboot01\nconst countAllResult=await queryData(queries.usersAboveInAllReboot,{level:level});if(countAllResult&&countAllResult.data&&countAllResult.data.event_user){setUsersAboveLevel(countAllResult.data.event_user.length);}else{console.error('Failed to fetch count of users above level in all of Reboot01');setUsersAboveLevel(null);}// Count users above this level in the same cohort\nconst countCohortResult=await queryData(queries.usersAboveInCohort,{level:level,eventId:eventId});if(countCohortResult&&countCohortResult.data&&countCohortResult.data.event_user){setUsersAboveLevelInCohort(countCohortResult.data.event_user.length);}else{console.error('Failed to fetch count of users above level in cohort');setUsersAboveLevelInCohort(null);}// Fetch users in the same cohort with level >= user's level\nconst cohortResult=await queryData(queries.usersAboveInCohort,{eventId:eventId,level:level});if(cohortResult&&cohortResult.data&&cohortResult.data.event_user){const rank=cohortResult.data.event_user.findIndex(user=>user.userLogin===userInfo.login)+1;setCohortRank(rank);}else{console.error('Failed to fetch cohort ranking');setCohortRank(null);}}else{console.error('Failed to fetch user level');setUserLevel(null);setCohort(null);}// Fetch XP\nconst xpResult=await queryData(queries.userXP);if(xpResult&&xpResult.data&&xpResult.data.transaction_aggregate){setUserXP(xpResult.data.transaction_aggregate.aggregate.sum.amount);}else{console.error('Failed to fetch user XP');setUserXP(null);}// Fetch leadership count\nconst leadershipResult=await queryData(queries.leadershipCount,{userLogin:userInfo.login});if(leadershipResult&&leadershipResult.data&&leadershipResult.data.group_aggregate){setLeadershipCount(leadershipResult.data.group_aggregate.aggregate.count);}else{console.error('Failed to fetch leadership count');setLeadershipCount(null);}}else{console.error('Failed to fetch user info');}}catch(error){console.error('Error fetching user data:',error);}},[queryData,queries.userInfo,queries.userLevel,queries.usersAboveInAllReboot,queries.usersAboveInCohort,queries.userXP,queries.leadershipCount]);const fetchUsersAbove=async function(){let inCohort=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const query=inCohort?queries.usersAboveInCohort:queries.usersAboveInAllReboot;const variables=inCohort?{level:userLevel,eventId:cohort}:{level:userLevel};try{const result=await queryData(query,variables);if(result&&result.data&&result.data.event_user){console.log(`Fetched ${result.data.event_user.length} users above`);if(inCohort){setUsersAboveInCohortList(result.data.event_user);setShowUsersAboveInCohort(true);}else{setUsersAboveList(result.data.event_user);setShowUsersAbove(true);}}else{console.error('Failed to fetch users above');}}catch(error){console.error('Error fetching users above:',error);}};const fetchLeadershipProjects=useCallback(async()=>{try{const result=await queryData(queries.leadershipProjects,{userLogin:userInfo.login});if(result&&result.data&&result.data.group){setLeadershipProjects(result.data.group);}else{console.error('Failed to fetch leadership projects');}}catch(error){console.error('Error fetching leadership projects:',error);}},[queryData,queries.leadershipProjects,userInfo]);const fetchTeamLeaderData=useCallback(async()=>{try{const result=await queryData(queries.teamLeaders,{userLogin:userInfo.login});if(result&&result.data&&result.data.group){const leaderCounts=result.data.group.reduce((acc,project)=>{acc[project.captainLogin]=(acc[project.captainLogin]||0)+1;return acc;},{});const mostFrequent=Object.entries(leaderCounts).reduce((a,b)=>a[1]>b[1]?a:b);setMostFrequentLeader({login:mostFrequent[0],count:mostFrequent[1]});setTeamLeaderProjects(result.data.group.filter(project=>project.captainLogin===mostFrequent[0]));}else{console.error('Failed to fetch team leader data');}}catch(error){console.error('Error fetching team leader data:',error);}},[queryData,queries.teamLeaders,userInfo]);const fetchAuditRatioRankings=useCallback(async function(){let inCohort=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{const result=await queryData(queries.usersLevelGreaterThanInAll,{level:0});if(result&&result.data&&result.data.event_user){const sortedUsers=result.data.event_user.sort((a,b)=>{const ratioA=parseFloat(a.userAuditRatio)||0;const ratioB=parseFloat(b.userAuditRatio)||0;return ratioB-ratioA;});const userRank=sortedUsers.findIndex(user=>user.userLogin===userInfo.login)+1;setUserAuditRatioRank(userRank);if(inCohort){const cohortUsers=sortedUsers.filter(user=>user.event.id===cohort);setCohortAuditRatioRanking(cohortUsers);const userCohortRank=cohortUsers.findIndex(user=>user.userLogin===userInfo.login)+1;setUserCohortAuditRatioRank(userCohortRank);}else{setAuditRatioRanking(sortedUsers);}}else{console.error('Failed to fetch audit ratio rankings');}}catch(error){console.error('Error fetching audit ratio rankings:',error);}},[queryData,queries.usersLevelGreaterThanInAll,cohort,userInfo]);useEffect(()=>{if(isSignedIn){fetchSkillsData();fetchUserData();}},[isSignedIn,fetchSkillsData,fetchUserData]);const createRadarChart=useCallback(()=>{const svg=d3.select(skillsChartRef.current);svg.selectAll(\"*\").remove();const container=d3.select(skillsChartRef.current.parentNode);const containerWidth=container.node().getBoundingClientRect().width;const containerHeight=Math.min(containerWidth,400);svg.attr(\"width\",\"100%\").attr(\"height\",containerHeight).attr(\"viewBox\",`0 0 ${containerWidth} ${containerHeight}`).attr(\"preserveAspectRatio\",\"xMidYMid meet\");const margin={top:40,right:50,bottom:50,left:50};const width=containerWidth-margin.left-margin.right;const height=containerHeight-margin.top-margin.bottom;const radius=Math.min(width,height)/2*0.8;const g=svg.append(\"g\").attr(\"transform\",`translate(${containerWidth/2}, ${containerHeight/2})`);const data=skillsData.slice(0,10);const angleSlice=Math.PI*2/data.length;const rScale=d3.scaleLinear().range([0,radius]).domain([0,d3.max(data,d=>d.amount)]);// Draw the radar chart blobs\nconst radarLine=d3.lineRadial().curve(d3.curveLinearClosed).radius(d=>rScale(d.amount)).angle((d,i)=>i*angleSlice);g.selectAll(\".radarWrapper\").data([data]).enter().append(\"g\").attr(\"class\",\"radarWrapper\").append(\"path\").attr(\"class\",\"radarArea\").attr(\"d\",radarLine).style(\"fill\",\"rgb(116, 119, 191)\").style(\"fill-opacity\",0.5).style(\"stroke\",\"rgb(116, 119, 191)\").style(\"stroke-width\",\"2px\");// Draw the circular grid\nconst axisGrid=g.append(\"g\").attr(\"class\",\"axisWrapper\");axisGrid.selectAll(\".levels\").data(d3.range(1,6).reverse()).enter().append(\"circle\").attr(\"class\",\"gridCircle\").attr(\"r\",d=>radius/5*d).style(\"fill\",\"none\").style(\"stroke\",\"#CDCDCD\").style(\"stroke-width\",\"0.5px\");// Draw the axes\nconst axis=axisGrid.selectAll(\".axis\").data(data).enter().append(\"g\").attr(\"class\",\"axis\");axis.append(\"line\").attr(\"x1\",0).attr(\"y1\",0).attr(\"x2\",(d,i)=>rScale(d3.max(data,d=>d.amount))*Math.cos(angleSlice*i-Math.PI/2)).attr(\"y2\",(d,i)=>rScale(d3.max(data,d=>d.amount))*Math.sin(angleSlice*i-Math.PI/2)).attr(\"class\",\"line\").style(\"stroke\",\"#CDCDCD\").style(\"stroke-width\",\"0.5px\");// Append the labels and interactive circles\naxis.append(\"text\").attr(\"class\",\"legend\").style(\"font-size\",\"11px\").attr(\"text-anchor\",\"middle\").attr(\"dy\",\"0.35em\").attr(\"x\",(d,i)=>rScale(d3.max(data,d=>d.amount)*1.15)*Math.cos(angleSlice*i-Math.PI/2)).attr(\"y\",(d,i)=>rScale(d3.max(data,d=>d.amount)*1.15)*Math.sin(angleSlice*i-Math.PI/2)).text(d=>d.skill).style(\"fill\",\"#CCCCCC\");// Add interactive circles\naxis.append(\"circle\").attr(\"class\",\"radarCircle\").attr(\"r\",5).attr(\"cx\",(d,i)=>rScale(d.amount)*Math.cos(angleSlice*i-Math.PI/2)).attr(\"cy\",(d,i)=>rScale(d.amount)*Math.sin(angleSlice*i-Math.PI/2)).style(\"fill\",\"rgb(116, 119, 191)\").style(\"fill-opacity\",0.8).style(\"stroke\",\"#fff\").style(\"stroke-width\",\"2px\").on(\"mouseover\",function(event,d){d3.select(this).transition().duration(200).attr(\"r\",8).style(\"fill\",\"rgb(255, 215, 0)\");// Show tooltip\n// const [x, y] = d3.pointer(event, svg.node());\nd3.select(\".tooltip\").style(\"opacity\",1).html(`${d.skill}: ${d.amount}`);// .style(\"left\", `${x + 10}px`)\n// .style(\"top\", `${y - 10}px`);\n}).on(\"mouseout\",function(){d3.select(this).transition().duration(200).attr(\"r\",5).style(\"fill\",\"rgb(116, 119, 191)\");// Hide tooltip\nd3.select(\".tooltip\").style(\"opacity\",0);});// Add a title\nsvg.append(\"text\").attr(\"x\",containerWidth/2).attr(\"y\",20).attr(\"text-anchor\",\"middle\").style(\"font-size\",\"16px\").style(\"fill\",\"#FFFFFF\").text(\"Top 10 Skills\");// Add tooltip div if it doesn't exist\nif(d3.select(\".tooltip\").empty()){d3.select(\".skills-chart-container\").append(\"div\").attr(\"class\",\"tooltip\").style(\"opacity\",0);}},[skillsData]);useEffect(()=>{if(skillsData.length>0){createRadarChart();}},[skillsData,createRadarChart]);useEffect(()=>{if(isSignedIn&&userInfo){fetchLeadershipProjects();fetchTeamLeaderData();}},[isSignedIn,userInfo,fetchLeadershipProjects,fetchTeamLeaderData]);const getRank=level=>{if(level===0)return\"Aspiring developer\";if(level<=10)return\"Beginner developer\";if(level<=20)return\"Apprentice developer\";if(level<=30)return\"Assistant developer\";if(level<=40)return\"Basic developer\";if(level<=50)return\"Junior developer\";return\"Senior developer\";};const getCohortNumber=eventId=>{switch(eventId){case 72:return 2;case 20:return 1;default:return 3;}};const formatAuditRatio=ratio=>{return typeof ratio==='number'?ratio.toFixed(2):ratio;};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"header\",{children:headerMessage}),/*#__PURE__*/_jsx(\"main\",{children:!isSignedIn?/*#__PURE__*/_jsxs(\"form\",{id:\"signinForm\",onSubmit:handleSignIn,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"login\",children:\"Username or Email:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"login\",name:\"login\",type:\"text\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign in\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flexContainer\",id:\"signedInContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Achievements\"}),userInfo&&userLevel!==null&&userXP!==null&&usersAboveLevel!==null&&usersAboveLevelInCohort!==null&&cohort!==null&&cohortRank!==null?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"namelvlrank\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:`${userInfo.firstName} ${userInfo.lastName}`}),/*#__PURE__*/_jsx(\"div\",{className:\"lvl\",children:`Level ${userLevel}`}),/*#__PURE__*/_jsx(\"div\",{className:\"rank\",children:getRank(userLevel)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total XP: \",userXP]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Audit Ratio: \",formatAuditRatio(userInfo.auditRatio)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Up: \",userInfo.totalUp]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Down: \",userInfo.totalDown]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You are top \",usersAboveLevel+1,\" in all of Reboot01\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You are in Cohort \",getCohortNumber(cohort)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You are top \",usersAboveLevelInCohort+1,\" in your Reboot01 cohort\"]})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading user information...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Interesting info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[leadershipCount!==null&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"You were team leader for \",leadershipCount,\" projects\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowLeadershipProjects(!showLeadershipProjects);if(!showLeadershipProjects&&leadershipProjects.length===0){fetchLeadershipProjects();}},children:showLeadershipProjects?'Hide projects':'Which projects?'}),showLeadershipProjects&&/*#__PURE__*/_jsx(\"ul\",{className:showLeadershipProjects?'show':'',children:leadershipProjects.map((project,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:project.object.name}),/*#__PURE__*/_jsx(\"br\",{}),\"Members: \",project.members.map(member=>member.userLogin).join(', ')]},index))})]}),mostFrequentLeader&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[mostFrequentLeader.login,\" was your team leader for \",mostFrequentLeader.count,\" projects\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowTeamLeaderProjects(!showTeamLeaderProjects);if(!showTeamLeaderProjects&&teamLeaderProjects.length===0){fetchTeamLeaderData();}},children:showTeamLeaderProjects?'Hide projects':'Which projects?'}),showTeamLeaderProjects&&/*#__PURE__*/_jsx(\"div\",{className:\"users-list-container\",children:/*#__PURE__*/_jsx(\"ul\",{className:showTeamLeaderProjects?'show users-list':'users-list',children:teamLeaderProjects.map((project,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:project.object.name}),/*#__PURE__*/_jsx(\"br\",{}),\"Members: \",project.members.map(member=>member.userLogin).join(', ')]},index))})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Top 10 Skills\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-container skills-chart-container\",children:/*#__PURE__*/_jsx(\"svg\",{ref:skillsChartRef})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Rankings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"You are top \",usersAboveLevel+1,\" in all of Reboot01\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowUsersAbove(!showUsersAbove);if(!showUsersAbove&&usersAboveList.length===0){console.log('Fetching users above');fetchUsersAbove(false);}},children:showUsersAbove?'Hide users above you':'Want to see who is above you?'}),showUsersAbove&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total users above you: \",usersAboveList.length]}),/*#__PURE__*/_jsx(\"div\",{className:\"users-list-container\",children:/*#__PURE__*/_jsx(\"ul\",{className:showUsersAbove?'show users-list':'users-list',children:usersAboveList.map((user,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[index+1,\". \",user.userLogin,\" - Level \",user.level]},user.userLogin))})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Cohort Ranking\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"You are in Cohort \",getCohortNumber(cohort)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You are top \",usersAboveLevelInCohort+1,\" in your Reboot01 cohort\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowUsersAboveInCohort(!showUsersAboveInCohort);if(!showUsersAboveInCohort&&usersAboveInCohortList.length===0){fetchUsersAbove(true);}},children:showUsersAboveInCohort?'Hide users above you in cohort':'Want to see who is above you in your cohort?'}),showUsersAboveInCohort&&/*#__PURE__*/_jsx(\"div\",{className:\"users-list-container\",children:/*#__PURE__*/_jsx(\"ul\",{className:showUsersAboveInCohort?'show users-list':'users-list',children:usersAboveInCohortList.map((user,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[user.userLogin,\" - Level \",user.level]},user.userLogin))})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Audit Ratio Ranking\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Your Audit Ratio: \",formatAuditRatio(userInfo===null||userInfo===void 0?void 0:userInfo.auditRatio)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You are in Cohort \",getCohortNumber(cohort)]}),userAuditRatioRank&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Your Audit Ratio Rank: \",userAuditRatioRank,\" out of \",auditRatioRanking.length]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAuditRatioRanking(!showAuditRatioRanking);if(!showAuditRatioRanking&&auditRatioRanking.length===0){fetchAuditRatioRankings(false);}},children:showAuditRatioRanking?'Hide Audit Ratio Ranking':'Show Audit Ratio Ranking'}),showAuditRatioRanking&&/*#__PURE__*/_jsx(\"div\",{className:\"users-list-container\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"show users-list\",children:auditRatioRanking.map((user,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[index+1,\". \",user.userLogin,\" (Cohort \",getCohortNumber(user.event.id),\") - Audit Ratio: \",formatAuditRatio(user.userAuditRatio),user.userLogin===userInfo.login&&\" (You)\"]},user.userLogin))})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Cohort Audit Ratio Ranking\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Your Cohort: \",getCohortNumber(cohort)]}),userCohortAuditRatioRank&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Your Cohort Audit Ratio Rank: \",userCohortAuditRatioRank,\" out of \",cohortAuditRatioRanking.length]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowCohortAuditRatioRanking(!showCohortAuditRatioRanking);if(!showCohortAuditRatioRanking&&cohortAuditRatioRanking.length===0){fetchAuditRatioRankings(true);}},children:showCohortAuditRatioRanking?'Hide Cohort Audit Ratio Ranking':'Show Cohort Audit Ratio Ranking'}),showCohortAuditRatioRanking&&/*#__PURE__*/_jsx(\"div\",{className:\"users-list-container\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"show users-list\",children:cohortAuditRatioRanking.map((user,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[index+1,\". \",user.userLogin,\" - Audit Ratio: \",formatAuditRatio(user.userAuditRatio),user.userLogin===userInfo.login&&\" (You)\"]},user.userLogin))})})]})]})]})}),/*#__PURE__*/_jsx(\"footer\",{children:\"scree\"})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","d3","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","jwt","setJwt","userInfo","setUserInfo","userLevel","setUserLevel","userXP","setUserXP","isSignedIn","setIsSignedIn","headerMessage","setHeaderMessage","skillsData","setSkillsData","skillsChartRef","usersAboveLevel","setUsersAboveLevel","usersAboveLevelInCohort","setUsersAboveLevelInCohort","cohort","setCohort","cohortRank","setCohortRank","showUsersAbove","setShowUsersAbove","showUsersAboveInCohort","setShowUsersAboveInCohort","usersAboveList","setUsersAboveList","usersAboveInCohortList","setUsersAboveInCohortList","leadershipCount","setLeadershipCount","leadershipProjects","setLeadershipProjects","showLeadershipProjects","setShowLeadershipProjects","teamLeaderProjects","setTeamLeaderProjects","showTeamLeaderProjects","setShowTeamLeaderProjects","mostFrequentLeader","setMostFrequentLeader","auditRatioRanking","setAuditRatioRanking","cohortAuditRatioRanking","setCohortAuditRatioRanking","showAuditRatioRanking","setShowAuditRatioRanking","showCohortAuditRatioRanking","setShowCohortAuditRatioRanking","userAuditRatioRank","setUserAuditRatioRank","userCohortAuditRatioRank","setUserCohortAuditRatioRank","queries","basicInformation","skillsDistribution","usersAboveInAllReboot","usersAboveInCohort","teamLeaders","usersLevelGreaterThanInAll","handleSignIn","event","preventDefault","username","target","login","value","password","credentials","btoa","response","fetch","method","headers","body","JSON","stringify","ok","data","json","result","queryData","firstAndLastName","user","firstName","lastName","errorData","console","error","message","statusText","query","variables","arguments","length","undefined","log","fetchSkillsData","transaction","skillsMap","reduce","acc","item","skill","type","replace","Math","max","amount","processedData","Object","entries","map","_ref","sort","a","b","fetchUserData","infoResult","levelResult","userLogin","event_user","level","eventId","id","countAllResult","countCohortResult","cohortResult","rank","findIndex","xpResult","transaction_aggregate","aggregate","sum","leadershipResult","group_aggregate","count","fetchUsersAbove","inCohort","fetchLeadershipProjects","group","fetchTeamLeaderData","leaderCounts","project","captainLogin","mostFrequent","filter","fetchAuditRatioRankings","sortedUsers","ratioA","parseFloat","userAuditRatio","ratioB","userRank","cohortUsers","userCohortRank","createRadarChart","svg","select","current","selectAll","remove","container","parentNode","containerWidth","node","getBoundingClientRect","width","containerHeight","min","attr","margin","top","right","bottom","left","height","radius","g","append","slice","angleSlice","PI","rScale","scaleLinear","range","domain","d","radarLine","lineRadial","curve","curveLinearClosed","angle","i","enter","style","axisGrid","reverse","axis","cos","sin","text","on","transition","duration","html","empty","getRank","getCohortNumber","formatAuditRatio","ratio","toFixed","className","children","onSubmit","htmlFor","name","required","auditRatio","totalUp","totalDown","onClick","index","object","members","member","join","ref"],"sources":["/home/yjawad/Desktop/reboot/graphql-main/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport * as d3 from 'd3';\nimport './App.css';\n\nfunction App() {\n  const [jwt, setJwt] = useState(\"\");\n  const [userInfo, setUserInfo] = useState(null);\n  const [userLevel, setUserLevel] = useState(null);\n  const [userXP, setUserXP] = useState(null);\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [headerMessage, setHeaderMessage] = useState(\"Please trust me and use your reboot credentials thank you\");\n  const [skillsData, setSkillsData] = useState([]);\n  const skillsChartRef = useRef(null);\n  const [usersAboveLevel, setUsersAboveLevel] = useState(null);\n  const [usersAboveLevelInCohort, setUsersAboveLevelInCohort] = useState(null);\n  const [cohort, setCohort] = useState(null);\n  const [cohortRank, setCohortRank] = useState(null);\n  const [showUsersAbove, setShowUsersAbove] = useState(false);\n  const [showUsersAboveInCohort, setShowUsersAboveInCohort] = useState(false);\n  const [usersAboveList, setUsersAboveList] = useState([]);\n  const [usersAboveInCohortList, setUsersAboveInCohortList] = useState([]);\n  const [leadershipCount, setLeadershipCount] = useState(null);\n  const [leadershipProjects, setLeadershipProjects] = useState([]);\n  const [showLeadershipProjects, setShowLeadershipProjects] = useState(false);\n  const [teamLeaderProjects, setTeamLeaderProjects] = useState([]);\n  const [showTeamLeaderProjects, setShowTeamLeaderProjects] = useState(false);\n  const [mostFrequentLeader, setMostFrequentLeader] = useState(null);\n  const [auditRatioRanking, setAuditRatioRanking] = useState([]);\n  const [cohortAuditRatioRanking, setCohortAuditRatioRanking] = useState([]);\n  const [showAuditRatioRanking, setShowAuditRatioRanking] = useState(false);\n  const [showCohortAuditRatioRanking, setShowCohortAuditRatioRanking] = useState(false);\n  const [userAuditRatioRank, setUserAuditRatioRank] = useState(null);\n  const [userCohortAuditRatioRank, setUserCohortAuditRatioRank] = useState(null);\n\n  const queries = {\n    basicInformation: `query User1 {\n      user {\n        auditRatio\n        firstName\n        lastName\n        totalDown\n        totalUp\n      }\n    }`,\n    skillsDistribution: `\n      query skills {\n        transaction(\n          where: {\n            type: {\n              _iregex: \"(^|[^[:alnum:]_])[[:alnum:]_]*skill_[[:alnum:]_]*($|[^[:alnum:]_])\"\n            }\n          }\n        ) {\n          amount\n          type\n        }\n      }\n    `,\n    userInfo: `\n      query UserInfo {\n        user {\n          login\n          firstName\n          lastName\n          auditRatio\n          totalUp\n          totalDown\n        }\n      }\n    `,\n    userLevel: `\n      query UserDetails($userLogin: String!) {\n        event_user(\n          where: { event: { path: { _eq: \"/bahrain/bh-module\" } }, userLogin: { _eq: $userLogin } }\n        ) {\n          userLogin\n          level\n          event {\n            id\n          }\n        }\n      }\n    `,\n    userXP: `query {\n      transaction_aggregate(\n        where: {\n          event: { path: { _eq: \"/bahrain/bh-module\" } }\n          type: { _eq: \"xp\" }\n        }\n      ) {\n        aggregate {\n          sum {\n            amount\n          }\n        }\n      }\n    }\n    `,\n    usersAboveInAllReboot: `\n      query UsersLevelGreaterThanInAll($level: Int!) {\n        event_user(\n          where: { \n            event: { \n              path: { _eq: \"/bahrain/bh-module\" }\n            },\n            level: { _gte: $level }\n          }\n          order_by: { level: desc }\n        ) {\n          userLogin\n          level\n          event {\n            campus\n            id\n          }\n        }\n      }\n    `,\n    usersAboveInCohort: `\n      query UsersLevelGreaterThanInCohort($level: Int!, $eventId: Int!) {\n        event_user(\n          where: { \n            event: { \n              path: { _eq: \"/bahrain/bh-module\" },\n              id: { _eq: $eventId }\n            },\n            level: { _gte: $level }\n          }\n          order_by: { level: desc }\n        ) {\n          userLogin\n          level\n          event {\n            campus\n            id\n          }\n        }\n      }\n    `,\n    leadershipCount: `\n      query LeadershipCount($userLogin: String!) {\n        group_aggregate(where: { \n          _and: [\n            { captainLogin: { _eq: $userLogin } },\n            { object: { type: { _eq: \"project\" } } },\n            { status: { _eq: finished } }\n          ] \n        }) {\n          aggregate {\n            count\n          }\n        }\n      }\n    `,\n    leadershipProjects: `\n      query LeadershipProjects($userLogin: String!) {\n        group(where: { \n          _and: [\n            { captainLogin: { _eq: $userLogin } },\n            { object: { type: { _eq: \"project\" } } },\n            { status: { _eq: finished } }\n          ] \n        }) {\n          members {\n            userLogin\n          }\n          object {\n            name\n          }\n          path\n        }\n      }\n    `,\n    teamLeaders: `\n      query TeamLeaders($userLogin: String!) {\n        group(where: { \n          _and: [\n            { captainLogin: { _neq: $userLogin } },\n            { object: { type: { _eq: \"project\" } } },\n            { status: { _eq: finished } },\n            { members: { userLogin: {_eq: $userLogin} } },\n          ] \n        }) {\n          captainLogin\n          object {\n            name\n          }\n          members {\n            userLogin\n          }\n        }\n      }\n    `,\n    usersLevelGreaterThanInAll: `\n      query UsersLevelGreaterThanInAll($level: Int!) {\n        event_user(\n          where: { \n            event: { \n              path: { _eq: \"/bahrain/bh-module\" }\n            },\n            level: { _gte: $level }\n          }\n          order_by: { level: desc }\n        ) {\n          userLogin\n          level\n          event {\n            campus\n            id\n          }\n          userAuditRatio\n        }\n      }\n    `\n  };\n\n  const handleSignIn = async (event) => {\n    event.preventDefault();\n    const username = event.target.login.value;\n    const password = event.target.password.value;\n\n    const credentials = btoa(`${username}:${password}`);\n\n    try {\n      const response = await fetch('https://learn.reboot01.com/api/auth/signin', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Basic ${credentials}`\n        },\n        body: JSON.stringify({})\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setJwt(data);\n        setIsSignedIn(true);\n        setHeaderMessage(\"You shouldn't share your password with strangers.\");\n\n        const result = await queryData(queries.basicInformation);\n        setUserInfo({\n          ...userInfo,\n          firstAndLastName: `${result.data.user[0].firstName} ${result.data.user[0].lastName}`\n        });\n        setHeaderMessage(userInfo.firstAndLastName + headerMessage);\n      } else {\n        const errorData = await response.json();\n        console.error('Sign-in failed:', errorData.message || response.statusText);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n\n  const queryData = useCallback(async (query, variables = {}) => {\n    try {\n      const response = await fetch('https://learn.reboot01.com/api/graphql-engine/v1/graphql', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${jwt}`\n        },\n        body: JSON.stringify({ query, variables })\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        console.log('GraphQL response:', result);\n        return result;\n      } else {\n        const errorData = await response.json();\n        console.error('GraphQL query failed:', errorData.message || response.statusText);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }, [jwt]);\n\n  const fetchSkillsData = useCallback(async () => {\n    const result = await queryData(queries.skillsDistribution);\n    console.log('Raw query result:', result);\n    \n    if (result && result.data && result.data.transaction) {\n      const skillsMap = result.data.transaction.reduce((acc, item) => {\n        const skill = item.type.replace(/^skill_/, '');\n        // Use Math.max to keep the highest amount for each skill\n        acc[skill] = Math.max(acc[skill] || 0, item.amount);\n        return acc;\n      }, {});\n\n      const processedData = Object.entries(skillsMap)\n        .map(([skill, amount]) => ({ skill, amount }))\n        .sort((a, b) => b.amount - a.amount);\n\n      console.log('Processed skills data with maximum values:', processedData);\n      setSkillsData(processedData);\n    } else {\n      console.log('No transaction data found in the query result');\n      setSkillsData([]);\n    }\n  }, [queryData, queries.skillsDistribution]);\n\n  const fetchUserData = useCallback(async () => {\n    try {\n      // Fetch user info first\n      const infoResult = await queryData(queries.userInfo);\n      if (infoResult && infoResult.data && infoResult.data.user && infoResult.data.user[0]) {\n        const userInfo = infoResult.data.user[0];\n        setUserInfo(userInfo);\n\n        // Now that we have the user's login, fetch the level and cohort\n        const levelResult = await queryData(queries.userLevel, { userLogin: userInfo.login });\n        if (levelResult && levelResult.data && levelResult.data.event_user && levelResult.data.event_user[0]) {\n          const level = levelResult.data.event_user[0].level;\n          const eventId = levelResult.data.event_user[0].event.id;\n          setUserLevel(level);\n          setCohort(eventId);\n\n          // Count users above this level in all of Reboot01\n          const countAllResult = await queryData(queries.usersAboveInAllReboot, { level: level });\n          if (countAllResult && countAllResult.data && countAllResult.data.event_user) {\n            setUsersAboveLevel(countAllResult.data.event_user.length);\n          } else {\n            console.error('Failed to fetch count of users above level in all of Reboot01');\n            setUsersAboveLevel(null);\n          }\n\n          // Count users above this level in the same cohort\n          const countCohortResult = await queryData(queries.usersAboveInCohort, { level: level, eventId: eventId });\n          if (countCohortResult && countCohortResult.data && countCohortResult.data.event_user) {\n            setUsersAboveLevelInCohort(countCohortResult.data.event_user.length);\n          } else {\n            console.error('Failed to fetch count of users above level in cohort');\n            setUsersAboveLevelInCohort(null);\n          }\n\n          // Fetch users in the same cohort with level >= user's level\n          const cohortResult = await queryData(queries.usersAboveInCohort, { eventId: eventId, level: level });\n          if (cohortResult && cohortResult.data && cohortResult.data.event_user) {\n            const rank = cohortResult.data.event_user.findIndex(user => user.userLogin === userInfo.login) + 1;\n            setCohortRank(rank);\n          } else {\n            console.error('Failed to fetch cohort ranking');\n            setCohortRank(null);\n          }\n        } else {\n          console.error('Failed to fetch user level');\n          setUserLevel(null);\n          setCohort(null);\n        }\n\n        // Fetch XP\n        const xpResult = await queryData(queries.userXP);\n        if (xpResult && xpResult.data && xpResult.data.transaction_aggregate) {\n          setUserXP(xpResult.data.transaction_aggregate.aggregate.sum.amount);\n        } else {\n          console.error('Failed to fetch user XP');\n          setUserXP(null);\n        }\n\n        // Fetch leadership count\n        const leadershipResult = await queryData(queries.leadershipCount, { userLogin: userInfo.login });\n        if (leadershipResult && leadershipResult.data && leadershipResult.data.group_aggregate) {\n          setLeadershipCount(leadershipResult.data.group_aggregate.aggregate.count);\n        } else {\n          console.error('Failed to fetch leadership count');\n          setLeadershipCount(null);\n        }\n      } else {\n        console.error('Failed to fetch user info');\n      }\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n    }\n  }, [queryData, queries.userInfo, queries.userLevel, queries.usersAboveInAllReboot, queries.usersAboveInCohort, queries.userXP, queries.leadershipCount]);\n\n  const fetchUsersAbove = async (inCohort = false) => {\n    const query = inCohort ? queries.usersAboveInCohort : queries.usersAboveInAllReboot;\n    const variables = inCohort \n      ? { level: userLevel, eventId: cohort }\n      : { level: userLevel };\n\n    try {\n      const result = await queryData(query, variables);\n      if (result && result.data && result.data.event_user) {\n        console.log(`Fetched ${result.data.event_user.length} users above`);\n        if (inCohort) {\n          setUsersAboveInCohortList(result.data.event_user);\n          setShowUsersAboveInCohort(true);\n        } else {\n          setUsersAboveList(result.data.event_user);\n          setShowUsersAbove(true);\n        }\n      } else {\n        console.error('Failed to fetch users above');\n      }\n    } catch (error) {\n      console.error('Error fetching users above:', error);\n    }\n  };\n\n  const fetchLeadershipProjects = useCallback(async () => {\n    try {\n      const result = await queryData(queries.leadershipProjects, { userLogin: userInfo.login });\n      if (result && result.data && result.data.group) {\n        setLeadershipProjects(result.data.group);\n      } else {\n        console.error('Failed to fetch leadership projects');\n      }\n    } catch (error) {\n      console.error('Error fetching leadership projects:', error);\n    }\n  }, [queryData, queries.leadershipProjects, userInfo]);\n\n  const fetchTeamLeaderData = useCallback(async () => {\n    try {\n      const result = await queryData(queries.teamLeaders, { userLogin: userInfo.login });\n      if (result && result.data && result.data.group) {\n        const leaderCounts = result.data.group.reduce((acc, project) => {\n          acc[project.captainLogin] = (acc[project.captainLogin] || 0) + 1;\n          return acc;\n        }, {});\n\n        const mostFrequent = Object.entries(leaderCounts).reduce((a, b) => a[1] > b[1] ? a : b);\n        setMostFrequentLeader({\n          login: mostFrequent[0],\n          count: mostFrequent[1]\n        });\n\n        setTeamLeaderProjects(result.data.group.filter(project => project.captainLogin === mostFrequent[0]));\n      } else {\n        console.error('Failed to fetch team leader data');\n      }\n    } catch (error) {\n      console.error('Error fetching team leader data:', error);\n    }\n  }, [queryData, queries.teamLeaders, userInfo]);\n\n  const fetchAuditRatioRankings = useCallback(async (inCohort = false) => {\n    try {\n      const result = await queryData(queries.usersLevelGreaterThanInAll, { level: 0 });\n      if (result && result.data && result.data.event_user) {\n        const sortedUsers = result.data.event_user\n          .sort((a, b) => {\n            const ratioA = parseFloat(a.userAuditRatio) || 0;\n            const ratioB = parseFloat(b.userAuditRatio) || 0;\n            return ratioB - ratioA;\n          });\n        \n        const userRank = sortedUsers.findIndex(user => user.userLogin === userInfo.login) + 1;\n        setUserAuditRatioRank(userRank);\n\n        if (inCohort) {\n          const cohortUsers = sortedUsers.filter(user => user.event.id === cohort);\n          setCohortAuditRatioRanking(cohortUsers);\n          const userCohortRank = cohortUsers.findIndex(user => user.userLogin === userInfo.login) + 1;\n          setUserCohortAuditRatioRank(userCohortRank);\n        } else {\n          setAuditRatioRanking(sortedUsers);\n        }\n      } else {\n        console.error('Failed to fetch audit ratio rankings');\n      }\n    } catch (error) {\n      console.error('Error fetching audit ratio rankings:', error);\n    }\n  }, [queryData, queries.usersLevelGreaterThanInAll, cohort, userInfo]);\n\n  useEffect(() => {\n    if (isSignedIn) {\n      fetchSkillsData();\n      fetchUserData();\n    }\n  }, [isSignedIn, fetchSkillsData, fetchUserData]);\n\n  const createRadarChart = useCallback(() => {\n    const svg = d3.select(skillsChartRef.current);\n    svg.selectAll(\"*\").remove();\n\n    const container = d3.select(skillsChartRef.current.parentNode);\n    const containerWidth = container.node().getBoundingClientRect().width;\n    const containerHeight = Math.min(containerWidth, 400);\n\n    svg.attr(\"width\", \"100%\")\n       .attr(\"height\", containerHeight)\n       .attr(\"viewBox\", `0 0 ${containerWidth} ${containerHeight}`)\n       .attr(\"preserveAspectRatio\", \"xMidYMid meet\");\n\n    const margin = { top: 40, right: 50, bottom: 50, left: 50 };\n    const width = containerWidth - margin.left - margin.right;\n    const height = containerHeight - margin.top - margin.bottom;\n    const radius = Math.min(width, height) / 2 * 0.8;\n\n    const g = svg.append(\"g\")\n      .attr(\"transform\", `translate(${containerWidth / 2}, ${containerHeight / 2})`);\n\n\n      \n\n      \n\n    const data = skillsData.slice(0, 10);\n    const angleSlice = Math.PI * 2 / data.length;\n\n\n\n\n\n    const rScale = d3.scaleLinear()\n      .range([0, radius])\n      .domain([0, d3.max(data, d => d.amount)]);\n\n          // Draw the radar chart blobs\n    const radarLine = d3.lineRadial()\n    .curve(d3.curveLinearClosed)\n    .radius(d => rScale(d.amount))\n    .angle((d, i) => i * angleSlice);\n\n    g.selectAll(\".radarWrapper\")\n    .data([data])\n    .enter().append(\"g\")\n    .attr(\"class\", \"radarWrapper\")\n    .append(\"path\")\n    .attr(\"class\", \"radarArea\")\n    .attr(\"d\", radarLine)\n    .style(\"fill\", \"rgb(116, 119, 191)\")\n    .style(\"fill-opacity\", 0.5)\n    .style(\"stroke\", \"rgb(116, 119, 191)\")\n    .style(\"stroke-width\", \"2px\");\n\n    // Draw the circular grid\n    const axisGrid = g.append(\"g\").attr(\"class\", \"axisWrapper\");\n\n    axisGrid.selectAll(\".levels\")\n      .data(d3.range(1, 6).reverse())\n      .enter()\n      .append(\"circle\")\n      .attr(\"class\", \"gridCircle\")\n      .attr(\"r\", d => radius / 5 * d)\n      .style(\"fill\", \"none\")\n      .style(\"stroke\", \"#CDCDCD\")\n      .style(\"stroke-width\", \"0.5px\");\n    \n      \n\n    // Draw the axes\n    const axis = axisGrid.selectAll(\".axis\")\n      .data(data)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"axis\");\n\n      \n\n    axis.append(\"line\")\n      .attr(\"x1\", 0)\n      .attr(\"y1\", 0)\n      .attr(\"x2\", (d, i) => rScale(d3.max(data, d => d.amount)) * Math.cos(angleSlice * i - Math.PI / 2))\n      .attr(\"y2\", (d, i) => rScale(d3.max(data, d => d.amount)) * Math.sin(angleSlice * i - Math.PI / 2))\n      .attr(\"class\", \"line\")\n      .style(\"stroke\", \"#CDCDCD\")\n      .style(\"stroke-width\", \"0.5px\");\n\n\n\n\n    // Append the labels and interactive circles\n    axis.append(\"text\")\n      .attr(\"class\", \"legend\")\n      .style(\"font-size\", \"11px\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"dy\", \"0.35em\")\n      .attr(\"x\", (d, i) => rScale(d3.max(data, d => d.amount) * 1.15) * Math.cos(angleSlice * i - Math.PI / 2))\n      .attr(\"y\", (d, i) => rScale(d3.max(data, d => d.amount) * 1.15) * Math.sin(angleSlice * i - Math.PI / 2))\n      .text(d => d.skill)\n      .style(\"fill\", \"#CCCCCC\");\n\n    // Add interactive circles\n    axis.append(\"circle\")\n      .attr(\"class\", \"radarCircle\")\n      .attr(\"r\", 5)\n      .attr(\"cx\", (d, i) => rScale(d.amount) * Math.cos(angleSlice * i - Math.PI / 2))\n      .attr(\"cy\", (d, i) => rScale(d.amount) * Math.sin(angleSlice * i - Math.PI / 2))\n      .style(\"fill\", \"rgb(116, 119, 191)\")\n      .style(\"fill-opacity\", 0.8)\n      .style(\"stroke\", \"#fff\")\n      .style(\"stroke-width\", \"2px\")\n      .on(\"mouseover\", function(event, d) {\n        d3.select(this)\n          .transition()\n          .duration(200)\n          .attr(\"r\", 8)\n          .style(\"fill\", \"rgb(255, 215, 0)\");\n        \n        // Show tooltip\n        // const [x, y] = d3.pointer(event, svg.node());\n        d3.select(\".tooltip\")\n          .style(\"opacity\", 1)\n          .html(`${d.skill}: ${d.amount}`)\n          // .style(\"left\", `${x + 10}px`)\n          // .style(\"top\", `${y - 10}px`);\n      })\n      .on(\"mouseout\", function() {\n        d3.select(this)\n          .transition()\n          .duration(200)\n          .attr(\"r\", 5)\n          .style(\"fill\", \"rgb(116, 119, 191)\");\n        \n        // Hide tooltip\n        d3.select(\".tooltip\").style(\"opacity\", 0);\n      });\n\n    // Add a title\n    svg.append(\"text\")\n      .attr(\"x\", containerWidth / 2)\n      .attr(\"y\", 20)\n      .attr(\"text-anchor\", \"middle\")\n      .style(\"font-size\", \"16px\")\n      .style(\"fill\", \"#FFFFFF\")\n      .text(\"Top 10 Skills\");\n\n    // Add tooltip div if it doesn't exist\n    if (d3.select(\".tooltip\").empty()) {\n      d3.select(\".skills-chart-container\").append(\"div\")\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0);\n    }\n\n    \n\n    \n\n  }, [skillsData]);\n\n  useEffect(() => {\n    if (skillsData.length > 0) {\n      createRadarChart();\n    }\n  }, [skillsData, createRadarChart]);\n\n  useEffect(() => {\n    if (isSignedIn && userInfo) {\n      fetchLeadershipProjects();\n      fetchTeamLeaderData();\n    }\n  }, [isSignedIn, userInfo, fetchLeadershipProjects, fetchTeamLeaderData]);\n\n  const getRank = (level) => {\n    if (level === 0) return \"Aspiring developer\";\n    if (level <= 10) return \"Beginner developer\";\n    if (level <= 20) return \"Apprentice developer\";\n    if (level <= 30) return \"Assistant developer\";\n    if (level <= 40) return \"Basic developer\";\n    if (level <= 50) return \"Junior developer\";\n    return \"Senior developer\";\n  };\n\n  const getCohortNumber = (eventId) => {\n    switch (eventId) {\n      case 72:\n        return 2;\n      case 20:\n        return 1;\n      default:\n        return 3;\n    }\n  };\n\n  const formatAuditRatio = (ratio) => {\n    return typeof ratio === 'number' ? ratio.toFixed(2) : ratio;\n  };\n\n  return (\n    <div className=\"container\">\n      <header>{headerMessage}</header>\n      <main>\n        {!isSignedIn ? (\n          <form id=\"signinForm\" onSubmit={handleSignIn}>\n            <label htmlFor=\"login\">Username or Email:</label>\n            <input id=\"login\" name=\"login\" type=\"text\" required />\n            <label htmlFor=\"password\">Password:</label>\n            <input id=\"password\" name=\"password\" type=\"password\" required />\n            <button type=\"submit\">Sign in</button>\n          </form>\n        ) : (\n          <div className=\"flexContainer\" id=\"signedInContent\">\n            <div className=\"section\">\n              <div className=\"title\">Achievements</div>\n              {userInfo && userLevel !== null && userXP !== null && usersAboveLevel !== null && usersAboveLevelInCohort !== null && cohort !== null && cohortRank !== null ? (\n                <>\n                  <div className=\"namelvlrank\">\n                    <div className=\"name\">{`${userInfo.firstName} ${userInfo.lastName}`}</div>\n                    <div className=\"lvl\">{`Level ${userLevel}`}</div>\n                    <div className=\"rank\">{getRank(userLevel)}</div>\n                  </div>\n                  <div className=\"info\">\n                    <p>Total XP: {userXP}</p>\n                    <p>Audit Ratio: {formatAuditRatio(userInfo.auditRatio)}</p>\n                    <p>Total Up: {userInfo.totalUp}</p>\n                    <p>Total Down: {userInfo.totalDown}</p>\n                    <p>You are top {usersAboveLevel + 1} in all of Reboot01</p>\n                    <p>You are in Cohort {getCohortNumber(cohort)}</p>\n                    <p>You are top {usersAboveLevelInCohort + 1} in your Reboot01 cohort</p>\n                  </div>\n                </>\n              ) : (\n                <p>Loading user information...</p>\n              )}\n            </div>\n            <div className=\"section\">\n              <div className=\"title\">Interesting info</div>\n              <div className=\"info\">\n                {leadershipCount !== null && (\n                  <>\n                    <p>You were team leader for {leadershipCount} projects</p>\n                    <button onClick={() => {\n                      setShowLeadershipProjects(!showLeadershipProjects);\n                      if (!showLeadershipProjects && leadershipProjects.length === 0) {\n                        fetchLeadershipProjects();\n                      }\n                    }}>\n                      {showLeadershipProjects ? 'Hide projects' : 'Which projects?'}\n                    </button>\n                    {showLeadershipProjects && (\n                      <ul className={showLeadershipProjects ? 'show' : ''}>\n                        {leadershipProjects.map((project, index) => (\n                          <li key={index}>\n                            <strong>{project.object.name}</strong>\n                            <br />\n                            Members: {project.members.map(member => member.userLogin).join(', ')}\n                          </li>\n                        ))}\n                      </ul>\n                    )}\n                  </>\n                )}\n\n                {mostFrequentLeader && (\n                  <>\n                    <p>{mostFrequentLeader.login} was your team leader for {mostFrequentLeader.count} projects</p>\n                    <button onClick={() => {\n                      setShowTeamLeaderProjects(!showTeamLeaderProjects);\n                      if (!showTeamLeaderProjects && teamLeaderProjects.length === 0) {\n                        fetchTeamLeaderData();\n                      }\n                    }}>\n                      {showTeamLeaderProjects ? 'Hide projects' : 'Which projects?'}\n                    </button>\n                    {showTeamLeaderProjects && (\n                      <div className=\"users-list-container\">\n                      <ul className={showTeamLeaderProjects ? 'show users-list' : 'users-list'}>\n                        {teamLeaderProjects.map((project, index) => (\n                          <li key={index}>\n                            <strong>{project.object.name}</strong>\n                            <br />\n                            Members: {project.members.map(member => member.userLogin).join(', ')}\n                          </li>\n                        ))}\n                      </ul>\n                      </div>\n                    )}\n                  </>\n                )}\n              </div>\n            </div>\n            <div className=\"section\">\n              <div className=\"title\">Top 10 Skills</div>\n              <div className=\"section-content\">\n                <div className=\"chart-container skills-chart-container\">\n                  <svg ref={skillsChartRef}></svg>\n                </div>\n              </div>\n            </div>\n            <div className=\"section\">\n              <div className=\"title\">Rankings</div>\n              <div className=\"info\">\n                <p>You are top {usersAboveLevel + 1} in all of Reboot01</p>\n                <button onClick={() => {\n                  setShowUsersAbove(!showUsersAbove);\n                  if (!showUsersAbove && usersAboveList.length === 0) {\n                    console.log('Fetching users above');\n                    fetchUsersAbove(false);\n                  }\n                }}>\n                  {showUsersAbove ? 'Hide users above you' : 'Want to see who is above you?'}\n                </button>\n                {showUsersAbove && (\n                  <>\n                    <p>Total users above you: {usersAboveList.length}</p>\n                    <div className=\"users-list-container\">\n                      <ul className={showUsersAbove ? 'show users-list' : 'users-list'}>\n                        {usersAboveList.map((user, index) => (\n                          <li key={user.userLogin}>{index + 1}. {user.userLogin} - Level {user.level}</li>\n                        ))}\n                      </ul>\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n            <div className=\"section\">\n              <div className=\"title\">Cohort Ranking</div>\n              <div className=\"info\">\n                <p>You are in Cohort {getCohortNumber(cohort)}</p>\n                <p>You are top {usersAboveLevelInCohort + 1} in your Reboot01 cohort</p>\n                <button onClick={() => {\n                  setShowUsersAboveInCohort(!showUsersAboveInCohort);\n                  if (!showUsersAboveInCohort && usersAboveInCohortList.length === 0) {\n                    fetchUsersAbove(true);\n                  }\n                }}>\n                  {showUsersAboveInCohort ? 'Hide users above you in cohort' : 'Want to see who is above you in your cohort?'}\n                </button>\n                {showUsersAboveInCohort && (\n                  <div className=\"users-list-container\">\n                    <ul className={showUsersAboveInCohort ? 'show users-list' : 'users-list'}>\n                      {usersAboveInCohortList.map((user, index) => (\n                        <li key={user.userLogin}>{user.userLogin} - Level {user.level}</li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n            </div>\n            <div className=\"section\">\n              <div className=\"title\">Audit Ratio Ranking</div>\n              <div className=\"info\">\n                <p>Your Audit Ratio: {formatAuditRatio(userInfo?.auditRatio)}</p>\n                <p>You are in Cohort {getCohortNumber(cohort)}</p>\n                {userAuditRatioRank && <p>Your Audit Ratio Rank: {userAuditRatioRank} out of {auditRatioRanking.length}</p>}\n                <button onClick={() => {\n                  setShowAuditRatioRanking(!showAuditRatioRanking);\n                  if (!showAuditRatioRanking && auditRatioRanking.length === 0) {\n                    fetchAuditRatioRankings(false);\n                  }\n                }}>\n                  {showAuditRatioRanking ? 'Hide Audit Ratio Ranking' : 'Show Audit Ratio Ranking'}\n                </button>\n                {showAuditRatioRanking && (\n                  <div className=\"users-list-container\">\n                    <ul className=\"show users-list\">\n                      {auditRatioRanking.map((user, index) => (\n                        <li key={user.userLogin}>\n                          {index + 1}. {user.userLogin} (Cohort {getCohortNumber(user.event.id)}) - Audit Ratio: {formatAuditRatio(user.userAuditRatio)} \n                          {user.userLogin === userInfo.login && \" (You)\"}\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"section\">\n              <div className=\"title\">Cohort Audit Ratio Ranking</div>\n              <div className=\"info\">\n                <p>Your Cohort: {getCohortNumber(cohort)}</p>\n                {userCohortAuditRatioRank && <p>Your Cohort Audit Ratio Rank: {userCohortAuditRatioRank} out of {cohortAuditRatioRanking.length}</p>}\n                <button onClick={() => {\n                  setShowCohortAuditRatioRanking(!showCohortAuditRatioRanking);\n                  if (!showCohortAuditRatioRanking && cohortAuditRatioRanking.length === 0) {\n                    fetchAuditRatioRankings(true);\n                  }\n                }}>\n                  {showCohortAuditRatioRanking ? 'Hide Cohort Audit Ratio Ranking' : 'Show Cohort Audit Ratio Ranking'}\n                </button>\n                {showCohortAuditRatioRanking && (\n                  <div className=\"users-list-container\">\n                    <ul className=\"show users-list\">\n                      {cohortAuditRatioRanking.map((user, index) => (\n                        <li key={user.userLogin}>\n                          {index + 1}. {user.userLogin} - Audit Ratio: {formatAuditRatio(user.userAuditRatio)} \n                          {user.userLogin === userInfo.login && \" (You)\"}\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n            </div>\n\n          </div>\n        )}\n      </main>\n      <footer>scree</footer>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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E;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CACDE,MAAM,CAAE;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CACDoD,qBAAqB,CAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CACDC,kBAAkB,CAAE;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CACD5B,eAAe,CAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CACDE,kBAAkB,CAAE;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CACD2B,WAAW,CAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CACDC,0BAA0B,CAAE;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KACE,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CACpCA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,KAAM,CAAAC,QAAQ,CAAGF,KAAK,CAACG,MAAM,CAACC,KAAK,CAACC,KAAK,CACzC,KAAM,CAAAC,QAAQ,CAAGN,KAAK,CAACG,MAAM,CAACG,QAAQ,CAACD,KAAK,CAE5C,KAAM,CAAAE,WAAW,CAAGC,IAAI,CAAC,GAAGN,QAAQ,IAAII,QAAQ,EAAE,CAAC,CAEnD,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,4CAA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}